<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/png" href="images/fevi.png">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Dabbawala Journey</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <style>
    .main-container.blur {
    filter: blur(5px);
    opacity: 0.5;
/*    transition: filter 1s ease, opacity 1s ease;*/
}

/* Active timeline item will have no blur and full opacity */
.main-container.active {
    filter: none;
    opacity: 1;
}
  </style>
</head>
<body>

  

  <!-- Main Section -->
  <div class="background">
    <div class="text_box">
      <h3 class="journey_text">THE DABBA JOURNEY</h3>
      <div class="frame-3">
        <div class="text-wrapper-2 pickUpStation">
          <p id="pickupStation"><span>Loading...</span></p>
        </div>
          <img class="arrow" src="https://c.animaapp.com/ocDlckid/img/arrow-2.svg" />
        <div class="text-wrapper-2 dropStation">
        <p id="dropStation"><span>Loading...</span></p>
        </div>
      </div>
    </div> 

    
     
    <div class="road_journey"></div>
    <div class="class_main">
      <!-- Video Section -->
      <div class="class58">
        <div class="video-map">
          
        <video id="travelVideo" autoplay muted loop style="width: 100%">
           
        </video>

        </div>
        <div class="circle-box">
          <div class="img-class">
            <img src="images/dabbawala-icon.svg" class="img-icon">
          </div>
          <div class="text-class">
            <h2 class="txt_raju">Raju Dada</h2>
            <p class="txt_raju_p">His Daily Routine</p>
          </div>
        </div>
      </div>
      <!-- Timeline Section -->
          <!-- Timeline Section -->
    <div class="class38">
      <div class="stime-stamp-top">
        <!-- Timeline Item 1 -->
        <div class="main-container" id="timeline-item-1">
          <div class="container-img">
            <img src="images/1.svg" class="clock-icon">
          </div>
          <div class="container-timeslot">
            <h2 class="timeslot_head">10:00AM - 10:30AM</h2>                      
            <p class="timeslot_p">Sorting & Loading Dabbas at Bandra Station</p>
          </div>
        </div>

        <!-- Timeline Item 2 -->
        <div class="main-container" id="timeline-item-2">
          <div class="container-img">
            <img src="images/2.svg" class="clock-icon">
          </div>
          <div class="container-timeslot">
            <h2 class="timeslot_head">10:34AM - 11:04AM</h2>
              <p class="timeslot_p">Sort & transport the dabba from Bandra to Churchgate</p>
          </div>
        </div>

        <!-- Timeline Item 3 -->
        <div class="main-container" id="timeline-item-3">
          <div class="container-img">
            <img src="images/3.svg" class="clock-icon">
          </div>
          <div class="container-timeslot">
            <h2 class="timeslot_head">11:04AM - 11:30PM</h2>
            <p class="timeslot_p">Unloading & Sorting Dabbas at Chuchgate Station.</p>
          </div>
        </div>

        <!-- Timeline Item 4 -->
        <div class="main-container" id="timeline-item-4">
          <div class="container-img">
            <img src="images/4.svg" class="clock-icon">
          </div>
          <div class="container-timeslot">
            <h2 class="timeslot_head">11:35AM - 12:30PM</h2>
            <p class="timeslot_p">Delivering Dabbas to their respective customers.</p>
          </div>
        </div>

        <!-- Timeline Item 5 -->
        <div class="main-container" id="timeline-item-5">
          <div class="container-img">
            <img src="images/5.svg" class="clock-icon">
          </div>
          <div class="container-timeslot">
            <h2 class="timeslot_head">1:15PM - 2:30PM</h2>
            <p class="timeslot_p">Collecting Empty Dabbas from the customers.</p>
          </div>
        </div>

        <!-- Timeline Item 6 -->
        <div class="main-container" id="timeline-item-6">
          <div class="container-img">
            <img src="images/6.svg" class="clock-icon">
          </div>
          <div class="container-timeslot">
            <h2 class="timeslot_head">2:30PM - 3:00PM</h2>
            <p class="timeslot_p">Sorting & Loading Dabbas at Churchgate Station.</p>
          </div>
        </div>

        <!-- Timeline Item 7 -->
        <div class="main-container" id="timeline-item-7">
          <div class="container-img">
            <img src="images/7.svg" class="clock-icon">
          </div>
          <div class="container-timeslot">
            <h2 class="timeslot_head">3:30PM - 4:15PM</h2>
            <p class="timeslot_p">Delivering Dabbas to Destination Households/Caterers.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
    </div>
  </div>



<!-- Dynamic Station Script -->
<script>
document.addEventListener('DOMContentLoaded', function () {
    // Retrieve the selected stations from localStorage
    const pickupStation = localStorage.getItem('selectedPickupStation') || 'Not Selected';
    const dropStation = localStorage.getItem('selectedDropStation') || 'Not Selected';

    // Update station names in the main journey text
    document.getElementById('pickupStation').querySelector('span').textContent = pickupStation;
    document.getElementById('dropStation').querySelector('span').textContent = dropStation;

    // Update all placeholders in the timeline dynamically
    document.querySelectorAll('.dynamicPickup').forEach(element => {
        element.textContent = pickupStation;
    });
    document.querySelectorAll('.dynamicDrop').forEach(element => {
        element.textContent = dropStation;
    });
});
</script>


<!-- translate into marathi -->

<script>
   const translations = {
        "Raju Dada": "राजू दादा",
        "His Daily Routine": "त्याचा रोजचा दिनक्रम",
        "THE DABBA JOURNEY": "डब्ब्याचा प्रवास",
          "CSMT":"छत्रपती शिवाजी महाराज ट.",
          "dadar": "दादर",
          "kurla": "कुर्ला",
          "thane": "ठाणे",
          "wadala": "वडाळा",
          "vashi": "वाशी",
          "churchgate": "चर्चगेट",
          "bandra": "बांद्र",
          "andheri": "अंधेरी",
          "dombivali":"डोंबिवली",
          "ghatkopar":"घाटकोपर",
          "byculla":"भायखळा",
          "virar":"विरार",
          "miraroad":"मीरा रोड",
          "borivali":"बोरिवली",
        "Sorting & Loading Dabbas at Bandra Station": "बांद्रा स्थानकावर डबे क्रमवारी लावणे आणि लोड करणे",
        "Sort & transport the dabba from Bandra to Churchgate":"बांद्रा ते चर्चगेट: डब्यांची क्रमवारी लावणे आणि वाहतूक प्रक्रिया",
        "Unloading & Sorting Dabbas at Chuchgate Station.":"चर्चगेट स्थानकावर डबे उतरणे आणि क्रमवारी लावणे",
        "Delivering Dabbas to their respective customers.":"डबे त्यांच्या संबंधित ग्राहकांपर्यंत पोहोचवणे",
        "Collecting Empty Dabbas from the customers.":"ग्राहकांकडून रिकामे डबे गोळा करणे",
        "Sorting & Loading Dabbas at Churchgate Station.":"चर्चगेट स्थानकावर डबे क्रमवारी लावणे आणि लोड करणे",
        "Delivering Dabbas to Destination Households/Caterers.":"डबे गंतव्यस्थानी (घरांमध्ये/केटरर्सकडे) पोहोचवणे"
    };

    function getQueryParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
    }

    // Translation function to change text on the page
    function translateToMarathi() {
        document.querySelectorAll('h2, h3, p').forEach(element => {
            const originalText = element.textContent.trim();
            if (translations[originalText]) {
                element.innerHTML = translations[originalText];
            }
        });
    }

    // Function to handle the language redirection
    function TravelPage() {
        const lang = getQueryParam('lang');
        window.location.href = `travel.html${lang ? '?lang=' + lang : ''}`;
    }

    // Automatically apply translation if "lang" is "marathi"
    window.onload = function() {
        if (getQueryParam('lang') === 'marathi') {
            translateToMarathi();
        }
    };
</script>
<!-- marathi translet end -->


<!-- video logic code -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Retrieve selected stations from localStorage
    const pickupStation = localStorage.getItem('selectedPickupStation') || 'Not Selected';
    const dropStation = localStorage.getItem('selectedDropStation') || 'Not Selected';

    // Update the HTML with the station names
    document.getElementById('pickupStation').querySelector('span').textContent = pickupStation;
    document.getElementById('dropStation').querySelector('span').textContent = dropStation;

    // Get the video element
    const travelVideo = document.getElementById('travelVideo');



      // Determine the key for the selected combination
      const combinationKey = `${pickupStation}-${dropStation}`;
      // const selectedSequence = videoSequences[combinationKey];
      let selectedSequence = 
            [           
              `videos/${pickupStation}Pickup.mp4`,
              `videos/${dropStation}Drop.mp4`,
              `videos/${dropStation}Pickup.mp4` 
            ]

      if (selectedSequence) {
          let currentVideoIndex = 0;

          // Function to play a video for 10 seconds
          const playVideoSegment = () => {
              if (currentVideoIndex < selectedSequence.length) {
                  travelVideo.src = selectedSequence[currentVideoIndex];
                  travelVideo.load();
                  travelVideo.play();

                  // Set timeout to stop after 10 seconds and move to the next video
                  setTimeout(() => {
                      travelVideo.pause();
                      currentVideoIndex++;
                      playVideoSegment(); // Play the next video
                  }, 10000); // 10,000 milliseconds = 10 seconds
              }
          };

          // Start playing the first video segment
          playVideoSegment();
      } else {
          // Fallback for other combinations
          travelVideo.src = 'video/fallback-video1'; // Replace with your default video
          travelVideo.load();
          travelVideo.play();
      }
  });
</script>
<!-- video logic code end-->

<!-- timeline -->
<script>
document.addEventListener('DOMContentLoaded', function () {
    const timelineItems = document.querySelectorAll('.main-container'); // Get all timeline items
    let currentIndex = 0; // Start with the first item
    let forward = true; // Flag to determine the direction (forward or backward)

    function activateTimeline() {
        // Remove "active" class and add "blur" class to all items
        timelineItems.forEach((item, index) => {
            item.classList.remove('active');
            item.classList.add('blur');
            item.style.transform = "translateY(30px)";
            item.style.opacity = '0.5';
            // item.style.transition = 'transform 1s ease-in-out, opacity 1s ease-in-out';
        });

        // Remove "blur" class and add "active" class to the current item
        const currentItem = timelineItems[currentIndex];
        currentItem.classList.remove('blur');  // Remove blur for the active item
        currentItem.classList.add('active');  // Add active class for the current item
        currentItem.style.transform = "translateY(0)";
        currentItem.style.opacity = '1';

        // Update the index for the next active item
        if (forward) {
            currentIndex++;
            if (currentIndex >= timelineItems.length) {
                forward = false; // Switch to reverse direction when reaching the last item
                currentIndex = timelineItems.length - 2; // Start from the second-to-last item
            }
        } else {
            currentIndex--;
            if (currentIndex < 0) {
                forward = true; // Switch to forward direction when reaching the first item
                currentIndex = 1; // Start from the second item
            }
        }

        // Set the timeout for the next item to become active after a fixed duration
        setTimeout(activateTimeline, 4290); // 4 seconds per item (adjustable)
    }

    activateTimeline();
});

</script>




<!-- this is station selection script -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Retrieve selected stations from localStorage
        const pickupStation = localStorage.getItem('selectedPickupStation') || 'Not Selected';
        const dropStation = localStorage.getItem('selectedDropStation') || 'Not Selected';

        // Update the HTML with the station names
        document.getElementById('pickupStation').querySelector('span').textContent = pickupStation;
        document.getElementById('dropStation').querySelector('span').textContent = dropStation;
    });

    function goBackToHomePage() {
        // Redirect to the first page or home
        window.location.href = 'invoice.html';
    }

    // setTimeout(function() {
    //   const lang = getQueryParam('lang');
    //   window.location.href = `invoice.html${lang ? '?lang=' + lang : ''}`; 
    // }, 30000);
</script>
<!-- this is station selection script end-->


</body>
</html>
