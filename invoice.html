<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/png" href="images/fevi.png">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dabbawala Journey</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" type="text/css" href="invoice.css">
</head>
<body>

  <!-- main section -->
    <div class="background">

      <!-- <div>
        <a href="index.html"><img src="images/logo.png" class="img-logo"></a>
      </div> -->

      <!-- <div class="cont-ct"> -->

         <div class="overlap">
          <div class="frame-2">
            <div class="text-wrapper"><h2>Invoice of Dabba</h2></div>
            <div class="frame-wrapper">
              <div class="frame-3">
                <div class="frame-4">
                  <div class="text-wrapper-2"><h4>Dabba Number</h4></div>
                  <p class="text-wrapper-3" id="dabbaNumber">R BNR 9 EX 12</p>
                </div>
                <div class="frame-5">
                  <div class="text-wrapper-2"><h4>Duration Of Dabba Service</h4></div>
                  <p class="text-wrapper-3" id="duration">Loading...</p>
                </div>
              </div>
            </div>
            <div class="frame-3">
              <div class="frame-4">
                <div class="text-wrapper-2"><h4>Pick Up Station</h4></div>
                <div class="text-wrapper-3"><p id="pickupStation"><span>Loading...</span></p></div>
              </div>
              <div class="frame-4">
                <div class="text-wrapper-2"><h4>Drop In Station</h4></div>
                <div class="text-wrapper-3"><p id="dropStation"><span>Loading...</span></p></div>
              </div>
            </div>
          </div>
          <img class="image" src="images/dabbawala-icon.svg" />
        </div>
        
        <!-- <img class="mumbai-dabbawala zoom-box" src="images/scan-me.svg" /> -->
        <div class="scan_div">
          <div class="mumbai-dabbawala" id="qrcode">
            <p class="scan-me">
                <span>Scan Me</span> <br> <span style="font-size:58px; color: #87643a;">To Start Your Dabba Service</span>
            </p>
          </div>
          <!-- <div>
            <p class="scan-me"><span>Scan Me</span> <br>To Start Your Dabba Service</p>
          </div> -->
          <img src="images/scan-img.svg" class="qr_scan">


        </div>


        <div class="ellipse"></div>

    </div>


      <!-- </div> -->
        
        <div class="road">
          <div class="footer-text">‡•• ‡§Ö‡§®‡•ç‡§®‡§¶‡§æ‡§® ‡§π‡•á‡§ö ‡§∂‡•ç‡§∞‡•á‡§∑‡•ç‡§†‡§¶‡§æ‡§® ‡••</div>
           <div class="refresh-btn circle">
            <a href="index.html">
              <img src="images/refresh.png" alt="refresh">
            </a>
            </div>
        </div>

    </div>
    
  <!-- main section end -->


<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Retrieve selected stations from localStorage
        const pickupStation = localStorage.getItem('selectedPickupStation') || 'Not Selected';
        const dropStation = localStorage.getItem('selectedDropStation') || 'Not Selected';

        const pickupStationMr = translations[localStorage.getItem('selectedPickupStation')] || 'Not Selected';
        const dropStationMr = translations[localStorage.getItem('selectedDropStation')] || 'Not Selected';

        // Capitalize the first letter of each word in the station names
        const capitalize = (str) => str.replace(/\b\w/g, char => char.toUpperCase());

        const capitalizedPickupStation = capitalize(pickupStation);
        const capitalizedDropStation = capitalize(dropStation);

        // WhatsApp phone number
        const phoneNumber = "919870419916"; // Replace with your WhatsApp number

        // Check the URL for 'lang=marathi' parameter
        const urlParams = new URLSearchParams(window.location.search);
        const lang = urlParams.get('lang');

        let message;

        // If 'lang=marathi' is present in the URL, use the Marathi message, otherwise use English
        if (lang === 'marathi') {
            message = `‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞, ‡§Æ‡§≤‡§æ ‡§°‡§¨‡•ç‡§¨‡§æ ‡§∏‡•á‡§µ‡§æ ‡§π‡§µ‡•Ä ‡§Ü‡§π‡•á. üòÉ\n\n‡§ï‡•Å‡§†‡•Ç‡§®: *${pickupStationMr}*\n‡§ï‡•Å‡§†‡•á: *${dropStationMr}*`;
        } 
        else {
            message = `Hello, I want Dabba Service. üòÉ \n\nFrom: *${capitalizedPickupStation}*\nTo: *${capitalizedDropStation}*\n\nWhats the process to signup for a month?`;
        }

        // Generate WhatsApp deep link
        const whatsappLink = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;

        // QR code options
        const options = {
            width: window.innerWidth < 768 ? 150 : 750, // Set width to 300px for small screens (mobile) and 750px for larger screens
            height: window.innerWidth < 768 ? 150 : 750, // Same for height
            color: {
                dark: "#000000", // Dark color for the QR code itself
                light: "#00000000" // Transparent background
            }
        };

        // Generate the QR code
        const qrCodeDiv = document.getElementById("qrcode");
        QRCode.toCanvas(whatsappLink, options, function (error, canvas) {
            if (error) {
                console.error("QR Code generation error:", error);
                return;
            }

            // Append the QR code canvas to the div
            qrCodeDiv.appendChild(canvas);

            // Add the shake effect every 10 seconds for 2 seconds duration
            // setInterval(() => {
            //     qrCodeDiv.classList.add('shake');
            //     setTimeout(() => {
            //         qrCodeDiv.classList.remove('shake');
            //     }, 3000); 
            // }, 5000); 
        });
    });
</script>





<!-- date -->

<script>
document.addEventListener('DOMContentLoaded', function () {
  const currentDate = new Date();

  // Mapping for months in Marathi
  const marathiMonths = {
    Jan: "‡§ú‡§æ‡§®‡•á‡§µ‡§æ‡§∞‡•Ä",
    Feb: "‡§´‡•á‡§¨‡•ç‡§∞‡•Å‡§µ‡§æ‡§∞‡•Ä",
    Mar: "‡§Æ‡§æ‡§∞‡•ç‡§ö",
    Apr: "‡§è‡§™‡•ç‡§∞‡§ø‡§≤",
    May: "‡§Æ‡•á",
    Jun: "‡§ú‡•Ç‡§®",
    Jul: "‡§ú‡•Å‡§≤‡•à",
    Aug: "‡§ë‡§ó‡§∏‡•ç‡§ü",
    Sep: "‡§∏‡§™‡•ç‡§ü‡•á‡§Ç‡§¨‡§∞",
    Oct: "‡§ë‡§ï‡•ç‡§ü‡•ã‡§¨‡§∞",
    Nov: "‡§®‡•ã‡§µ‡•ç‡§π‡•á‡§Ç‡§¨‡§∞",
    Dec: "‡§°‡§ø‡§∏‡•á‡§Ç‡§¨‡§∞"
  };

  // Function to convert English numerals to Marathi numerals
  const convertToMarathiNumerals = (number) => {
    const marathiDigits = ['‡•¶', '‡•ß', '‡•®', '‡•©', '‡•™', '‡•´', '‡•¨', '‡•≠', '‡•Æ', '‡•Ø'];
    return number
      .toString()
      .split('')
      .map(digit => marathiDigits[parseInt(digit, 10)] || digit)
      .join('');
  };

  // Current date and its Marathi equivalent
  const day = currentDate.getDate();
  const dayMr = convertToMarathiNumerals(day);

  const englishMonth = currentDate.toLocaleString('default', { month: 'short' });
  const marathiMonth = marathiMonths[englishMonth] || englishMonth;

  const year = currentDate.getFullYear();
  const yearMr = convertToMarathiNumerals(year);

  const startDateText = `${englishMonth} ${day}, ${year}`;
  const startDateTextMr = `${marathiMonth} ${dayMr}, ${yearMr}`;

  // Next month's date and its Marathi equivalent
  const nextMonthDate = new Date(currentDate);
  nextMonthDate.setMonth(currentDate.getMonth() + 1);

  const nextMonthDay = nextMonthDate.getDate();
  const nextMonthDayMr = convertToMarathiNumerals(nextMonthDay);

  const nextMonthEnglish = nextMonthDate.toLocaleString('default', { month: 'short' });
  const nextMonthMarathi = marathiMonths[nextMonthEnglish] || nextMonthEnglish;

  const nextYear = nextMonthDate.getFullYear();
  const nextYearMr = convertToMarathiNumerals(nextYear);

  const endDateText = `${nextMonthEnglish} ${nextMonthDay}, ${nextYear}`;
  const endDateTextMr = `${nextMonthMarathi} ${nextMonthDayMr}, ${nextYearMr}`;

  // Duration text with <br> for line breaks
  const durationText = `( ${startDateText} to<br>${endDateText} )`;
  const durationTextMr = `( ${startDateTextMr} ‡§§‡•á<br>${endDateTextMr} )`;

  const urlParams = new URLSearchParams(window.location.search);
  const lang = urlParams.get('lang');

  // Use Marathi or English text based on URL parameter
  if (lang === 'marathi') {
    document.getElementById('duration').innerHTML = durationTextMr;
  } else {
    document.getElementById('duration').innerHTML = durationText;
  }
});
</script>



<!-- dabba number  -->

<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Retrieve the selected stations from localStorage
    const pickupStation = localStorage.getItem('selectedPickupStation') || 'Not Selected';
    const dropStation = localStorage.getItem('selectedDropStation') || 'Not Selected';

    // Update the Dabba Number based on the selected stations
    const stationCodes = {
        "csmt": "R", // Chhatrapati Shivaji Maharaj Terminus
        "dadar": "D", 
        "kurla": "K", 
        "thane": "T", 
        "wadala": "W", 
        "vashi": "V", 
        "churchgate": "C", 
        "bandra": "B", 
        "andheri": "A", 
        "dombivali": "D", 
        "ghatkopar": "G", 
        "byculla": "B", 
        "virar": "V", 
        "miraroad": "M", 
        "borivali": "B"
    };

    // Generate Dabba Number
    const pickupCode = stationCodes[pickupStation.toLowerCase()] || 'XX';  // Default to 'XX' if not found
    const dropCode = stationCodes[dropStation.toLowerCase()] || 'XX';

    // Construct the Dabba Number dynamically
    const dabbaNumber = `${pickupCode} ${dropCode} 9 EX 12`;

    // Update the Dabba Number on the page
    document.getElementById('dabbaNumber').textContent = dabbaNumber;

    // Update station names on the page
    document.getElementById('pickupStation').querySelector('span').textContent = pickupStation;
    document.getElementById('dropStation').querySelector('span').textContent = dropStation;

    // Update placeholders in the timeline dynamically
    document.querySelectorAll('.dynamicPickup').forEach(element => {
        element.textContent = pickupStation;
    });
    document.querySelectorAll('.dynamicDrop').forEach(element => {
        element.textContent = dropStation;
    });
});

</script>



<!-- this is station selection script -->

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Retrieve selected stations from localStorage
        const pickupStation = localStorage.getItem('selectedPickupStation') || 'Not Selected';
        const dropStation = localStorage.getItem('selectedDropStation') || 'Not Selected';

        // Update the HTML with the station names
        document.getElementById('pickupStation').querySelector('span').textContent = pickupStation;
        document.getElementById('dropStation').querySelector('span').textContent = dropStation;
    });
</script>
<!-- this is station selection script end-->





<!-- for marathi -->

<script>
    
    const translations = {
      "Invoice of Dabba": "‡§°‡§¨‡•ç‡§Ø‡§æ‡§ö‡•Ä ‡§™‡§æ‡§µ‡§§‡•Ä",
      "Dabba Number": "‡§°‡§¨‡§æ ‡§ï‡•ç‡§∞‡§Æ‡§æ‡§Ç‡§ï",
      "Duration Of Dabba Service": "‡§°‡§¨‡§æ ‡§∏‡•á‡§µ‡§æ‡§ö‡§æ ‡§ï‡§æ‡§≤‡§æ‡§µ‡§ß‡•Ä",
      "Pick Up Station":"‡§µ‡§æ‡§π‡§§‡•Ç‡§ï ‡§∏‡•ç‡§ü‡•á‡§∂‡§®",
      "Drop In Station": "‡§∂‡•á‡§µ‡§ü‡§ö‡•á ‡§∏‡•ç‡§ü‡•á‡§∂‡§®",
      "Scan Me":"‡§á‡§•‡•á ‡§∏‡•ç‡§ï‡•Ö‡§® ‡§ï‡§∞‡§æ",
      "To Start Your Dabba Service": "‡§°‡§¨‡•ç‡§¨‡§æ ‡§∏‡•á‡§µ‡§æ ‡§∏‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä",
      "csmt":"‡§õ‡§§‡•ç‡§∞‡§™‡§§‡•Ä ‡§∂‡§ø‡§µ‡§æ‡§ú‡•Ä ‡§Æ‡§π‡§æ‡§∞‡§æ‡§ú ‡§ü.",
          "dadar": "‡§¶‡§æ‡§¶‡§∞",
          "kurla": "‡§ï‡•Å‡§∞‡•ç‡§≤‡§æ",
          "thane": "‡§†‡§æ‡§£‡•á",
          "wadala": "‡§µ‡§°‡§æ‡§≥‡§æ",
          "vashi": "‡§µ‡§æ‡§∂‡•Ä",
          "churchgate": "‡§ö‡§∞‡•ç‡§ö‡§ó‡•á‡§ü",
          "bandra": "‡§µ‡§æ‡§Ç‡§¶‡•ç‡§∞‡•á",
          "andheri": "‡§Ö‡§Ç‡§ß‡•á‡§∞‡•Ä",
          "dombivali":"‡§°‡•ã‡§Ç‡§¨‡§ø‡§µ‡§≤‡•Ä",
          "ghatkopar":"‡§ò‡§æ‡§ü‡§ï‡•ã‡§™‡§∞",
          "byculla":"‡§≠‡§æ‡§Ø‡§ñ‡§≥‡§æ",
          "virar":"‡§µ‡§ø‡§∞‡§æ‡§∞",
          "miraroad":"‡§Æ‡•Ä‡§∞‡§æ ‡§∞‡•ã‡§°",
          "borivali":"‡§¨‡•ã‡§∞‡§ø‡§µ‡§≤‡•Ä"
    };

        function getQueryParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
    }

    function translateToMarathi() {
        document.querySelectorAll('h2, p, h4, span').forEach(element => {
            const originalText = element.textContent.trim();
            if (translations[originalText]) {
                element.innerHTML = translations[originalText];
            }
        });
    }

        function Journey() {
          const lang = getQueryParam('lang');
          window.location.href = `index.html${lang ? '?lang=' + lang : ''}`;
        }

        // Automatically apply translation if "lang" is "marathi"
    window.onload = function() {
        if (getQueryParam('lang') === 'marathi') {
            translateToMarathi();
        }
    };
  </script>





  <style>
    /* Circle element */
    .circle {
/*      animation: spinOnce 2s ease-in-out forwards;*/
animation: spin 5s linear ;
    }

    /* Keyframes for continuous spinning */
    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }


/*  zoom   */

/* Element to animate */
    .zoom-box {
      animation: zoomIn 2s ease-in-out;
    }

    /* Keyframes for zoom-in animation */
    @keyframes zoomIn {
      0% {
        transform: scale(0); /* Start at 0 size */
        opacity: 0;          /* Completely transparent */
      }
      50% {
        transform: scale(1.2); /* Slight overshoot */
        opacity: 1;            /* Fully visible */
      }
      100% {
        transform: scale(1);   /* Final size */
      }
    }
  </style>

</body>
</html>
